<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="clockinstyle.css">
    <title>Breedon Group Login Portal</title>
</head>
<body>
    <header class="header">
        <img src="https://pbs.twimg.com/profile_images/1592164020068442112/cvJq36TC_400x400.jpg" alt="logo" class="centerimg">
        <div id="usernameDisplay" class="username-display"></div>
    </header>

    <div class="login-form">
        <h2>Login</h2>
        <form id="loginForm">
            <label for="username">Username:</label>
            <input type="text" id="username" required>
            <label for="password">Password:</label>
            <input type="password" id="password" required>
            <button type="button" onclick="login()">Login</button>
        </form>
    </div>

    <div id="newUserContainer" class="newuser-container">
        <button type="button" class="newuser" onclick="showNewUserForm()">+ New User</button>

        <form id="newUserForm" class="newuser-form hidden">
            <label for="nameInput">Name:</label>
            <input type="text" id="nameInput">
            <label for="emailInput">Email:</label>
            <input type="email" id="emailInput">
            <label for="vehicleInput">Vehicle Registration:</label>
            <input type="text" id="vehicleInput">
            <button type="button" onclick="submitNewUserForm()">Submit</button>
        </form>
    </div>

    <script src="clockinjs.js"></script>
</body>
</html>

body {
    background-color: #03428F;
    font-family: Arial, sans-serif;
    color: white;
}

.header {
    text-align: center;
    padding: 20px;
}

.centerimg {
    display: block;
    margin-left: auto;
    margin-right: auto;
    width: 50%;
    max-width: 300px;
    height: auto;
    border-radius: 10px;
}

.newuser {
    display: block;
    margin: 50px auto;
    width: 50%;
    height: 50px;
    border-radius: 10px;
    border: none;
    background-color: #032b5d;
    color: white;
    font-size: 16px;
    font-weight: bold;
    text-transform: uppercase;
    cursor: pointer;
}

.newuser:hover {
    background-color: #032b5d;
}

.newuser-form {
    text-align: center;
    margin: 50px auto;
    max-width: 400px;
}

.newuser-form label {
    display: block;
    text-align: left;
    margin-bottom: 5px;
}

.newuser-form input[type="text"],
.newuser-form input[type="email"] {
    width: 100%;
    padding: 10px;
    margin-bottom: 20px;
    border-radius: 5px;
    border: none;
}

.newuser-form button {
    display: block;
    width: 100%;
    height: 50px;
    border-radius: 10px;
    border: none;
    background-color: #032b5d;
    color: white;
    font-size: 16px;
    font-weight: bold;
    text-transform: uppercase;
    cursor: pointer;
}

.newuser-form button:hover {
    background-color: #032b5d;
}
.login-form {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 50px;
}
.login-form input {
    margin-bottom: 10px;
    padding: 8px;
    width: 250px;
    border-radius: 5px;
    border: 1px solid #ccc;
}
.login-form button {
    padding: 10px 20px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}
.hidden {
    display: none;
}
.user-actions {
    display: flex;
    justify-content: center;
    margin-top: 10px;
  }
  
  .user-actions button {
    margin: 0 5px;
    padding: 8px 16px;
    background-color: #032b5d;
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 14px;
    cursor: pointer;
  }
  
  .user-actions button:hover {
   border: #03428F 1px solid;
   border-radius: 5px;
  }

var isFormVisible = false; // Track whether the form is visible or not
var newUserButton = null; // Reference to the new user button
var userActionsVisible = false; // Track whether the user actions are visible or not
var userActions = null; // Reference to the user actions container

function showNewUserForm() {
  var newUserContainer = document.getElementById("newUserContainer");

  if (!isFormVisible) {
    // Create the form elements
    var form = document.createElement("form");
    form.className = "newuser-form";

    var nameLabel = document.createElement("label");
    nameLabel.innerText = "Name:";
    var nameInput = document.createElement("input");
    nameInput.type = "text";

    var emailLabel = document.createElement("label");
    emailLabel.innerText = "Email:";
    var emailInput = document.createElement("input");
    emailInput.type = "email";

    var vehicleLabel = document.createElement("label");
    vehicleLabel.innerText = "Vehicle Registration:";
    var vehicleInput = document.createElement("input");
    vehicleInput.type = "text";

    var submitButton = document.createElement("button");
    submitButton.type = "button";
    submitButton.innerText = "Submit";
    submitButton.onclick = function () {
      if (
        nameInput.value.trim() !== "" &&
        emailInput.value.trim() !== "" &&
        vehicleInput.value.trim() !== ""
      ) {
        createNewUserButton(nameInput.value);
        newUserContainer.removeChild(form);
        isFormVisible = false;
      }
    };

    // Append the form elements to the form container
    form.appendChild(nameLabel);
    form.appendChild(nameInput);
    form.appendChild(emailLabel);
    form.appendChild(emailInput);
    form.appendChild(vehicleLabel);
    form.appendChild(vehicleInput);
    form.appendChild(submitButton);

    // Replace the "New User" button with the form
    newUserContainer.appendChild(form);
    isFormVisible = true;
  }
}

function createNewUserButton(name) {
  newUserButton = document.createElement("button");
  newUserButton.type = "button";
  newUserButton.className = "newuser";
  newUserButton.innerText = name;

  // Add click event listener to the new user button
  newUserButton.addEventListener("click", function () {
    if (!userActionsVisible) {
      showUserActions(newUserButton);
    } else {
      hideUserActions();
    }
  });

  document.body.appendChild(newUserButton);
}

function showUserActions(button) {
  userActions = document.createElement("div");
  userActions.className = "user-actions";

  var clockInButton = document.createElement("button");
  clockInButton.type = "button";
  clockInButton.innerText = "Clock In";

  var sickButton = document.createElement("button");
  sickButton.type = "button";
  sickButton.innerText = "Sick";

  var holidayButton = document.createElement("button");
  holidayButton.type = "button";
  holidayButton.innerText = "Holiday Request";

  userActions.appendChild(clockInButton);
  userActions.appendChild(sickButton);
  userActions.appendChild(holidayButton);

  // Insert user actions below the button
  button.parentNode.insertBefore(userActions, button.nextSibling);

  userActionsVisible = true;
}

function hideUserActions() {
  userActions.parentNode.removeChild(userActions);
  userActionsVisible = false;
}

